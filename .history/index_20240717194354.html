<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <title>Home</title>
  </head>
  <body>
    <!-- Conteúdo da página -->
    <header>
      <img
        class="header-image"
        src="./images/kinkbarbearia-removebg-preview.png"
        alt=""
      />
    </header>
    <div id="name">
      <h1>King Barbearia</h1>
      <div id="midiasocial">
        <img
          class="icon"
          id="compartilhar"
          src="./images/compartilhar.png"
          alt="compartilhar"
        />
        <img class="icon" id="curtir" src="./images/coracao.png" alt="curtir" />
      </div>
      <p>Estrada das Lagrimas 1249, 04232-000, São Paulo</p>
    </div>
    <div class="menu">
      <nav>
        <div class="menu-toggle" id="mobile-menu">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
        <ul class="nav-list">
          <li>
            <a
              href="#"
              class="active"
              onclick="toggleSection(event, 'services')"
              >Serviços</a
            >
          </li>
          <li>
            <a href="#" onclick="toggleSection(event, 'evaluation')"
              >Avaliação</a
            >
          </li>
          <li>
            <a
              href="#"
              id="portfolio-link"
              onclick="toggleSection(event, 'portfolio')"
              >Portfolio</a
            >
          </li>
          <li>
            <a
              href="#"
              id="detalhes-link"
              onclick="toggleSection(event, 'detalhes')"
              >Detalhes</a
            >
          </li>
          <li>
            <a
              href="#"
              id="agenda-link"
              onclick="toggleSection(event, 'agenda')"
              >Agendamentos</a
            >
          </li>
        </ul>
      </nav>
    </div>
    <div id="services" style="display: none">
      <p>Serviços</p>
      <div id="corte">
        <h2>Corte</h2>
        <span style="font-size: 12px">Corte Simples</span>
        <div id="agendar">
          <span id="valor"><strong>R$ 30,00</strong></span>
          <span id="duration">30m</span>
          <button id="agendar-btn" data-servico="Corte Simples">Agendar</button>
        </div>
      </div>
      <div id="barba">
        <h2>Barba</h2>
        <span style="font-size: 12px">Barba Simples</span>
        <div id="agendar">
          <span id="valor"><strong>R$ 30,00</strong></span>
          <span id="duration">30m</span>
          <button id="agendar-btn" data-servico="Barba">Agendar</button>
        </div>
      </div>
      <div id="pezinho">
        <h2>Pezinho</h2>
        <span style="font-size: 12px">Pezinho</span>
        <div id="agendar">
          <span id="valor"><strong>R$ 15,00</strong></span>
          <span id="duration">15m</span>
          <button id="agendar-btn" data-servico="Pezinho">Agendar</button>
        </div>
      </div>
      <div id="cortebarba">
        <h2>Corte + Barba</h2>
        <span style="font-size: 12px">Corte E Barba</span>
        <div id="agendar">
          <span id="valor"><strong>R$ 50,00</strong></span>
          <span id="duration">50m</span>
          <button id="agendar-btn" data-servico="Corte + Barba">Agendar</button>
        </div>
      </div>
      <div id="cortesobrancelha">
        <h2>Corte + Sobrancelha</h2>
        <span style="font-size: 12px">Corte E Sobrancelha</span>
        <div id="agendar">
          <span id="valor"><strong>R$ 35,00</strong></span>
          <span id="duration">45m</span>
          <button id="agendar-btn" data-servico="Corte + Sobrancelha">
            Agendar
          </button>
        </div>
      </div>
      <div id="cortebs">
        <h2>Corte + Sobrancelha + Barba</h2>
        <span style="font-size: 12px">Corte Sobrancelha E Barba</span>
        <div id="agendar">
          <span id="valor"><strong>R$ 55,00</strong></span>
          <span id="duration">60m</span>
          <button id="agendar-btn" data-servico="Corte Sombrancelha E Barba">
            Agendar
          </button>
        </div>
      </div>
      <br />
    </div>
    <!-- Modal for Scheduling -->
    <div id="scheduleModal" class="modal" style="display: none">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Agendar Serviço</h2>
        <form id="scheduleForm" onsubmit="submitForm(event)">
          <input type="hidden" name="service" />
          <input type="hidden" name="value" />
          <input type="hidden" name="time" />
          <input type="hidden" name="duration" />
          <input type="hidden" name="valueservice" />
          <input
            type="text"
            name="name"
            placeholder="Digite Seu Nome"
            required
          />
          <input
            type="text"
            name="phone"
            placeholder="Digite Seu Whatsapp"
            required
          />
          <label for="barber">Escolha o Barbeiro:</label>
          <select id="barber" name="barber" required>
            <option value="Wallace">Wallace</option>
            <option value="Mateus">Mateus</option>
          </select>
          <label for="date">Escolha a Data:</label>
          <input type="date" id="date" name="date" required lang="pt-BR" />
          <label for="time">Escolha o Horário:</label>
          <input type="time" id="time" name="time" required />
          <button type="submit" id="confirmSchedule">
            Confirmar Agendamento
          </button>
        </form>
      </div>
    </div>

    <!-- Update Agenda Section -->
    <div id="agenda" style="display: none">
      <h2>Agendamentos</h2>
      <div id="bookings"></div>
      <button onclick="fetchBookings()">Mostrar Agendamentos</button>
    </div>

    <div id="portfolio" style="display: none">
      <div id="foto1">
        <img src="./images/foto1.jpg" alt="" />
      </div>
      <div id="foto2">
        <img src="./images/foto2.jpg" alt="" />
      </div>
      <div id="foto3">
        <img src="./images/foto3.jpg" alt="" />
      </div>
      <div id="foto4">
        <img src="./images/foto4.jpg" alt="" />
      </div>
      <div id="foto5">
        <img src="./images/foto5.jpg" alt="" />
      </div>
      <div id="foto6">
        <img src="./images/foto6.jpg" alt="" />
      </div>
    </div>

    <div id="detalhes" style="display: none">
      <p>
        Para mais informações ligue no número +55 11 94567-1920 ou pelo
        Instagram: @kingbarbearia
      </p>
      <div id="map"></div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="main.js"></script>
    <script>
      // Função para redirecionar a página de cadastro
      function redirectToHomePage() {
        localStorage.setItem("userLoggedIn", "true");
        window.location.href = "index.html";
      }

      // Função para verificar se o usuário está logado e exibir o modal se necessário
      document.addEventListener("DOMContentLoaded", function () {
        const userLoggedIn = localStorage.getItem("userLoggedIn");
        if (userLoggedIn) {
          const scheduleModal = document.getElementById("scheduleModal");
          scheduleModal.style.display = "block";
          localStorage.removeItem("userLoggedIn"); // Limpa a chave para evitar exibição repetida
        }
      });
    </script>
  </body>
</html>
